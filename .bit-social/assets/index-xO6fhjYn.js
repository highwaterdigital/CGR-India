import{r as s,_ as z,u as De,C as Fe,a as Y,c as X,b as Se,d as Ge,e as Ke,o as qe,f as me,g as G,h as we,i as Ue,m as We,k as Xe,l as ke,n as E,p as Qe,t as Ye,q as Je,v as Ze,w as et,x as Ae,y as Te,z as xe,A as J,j as i,B as C,S as je,D as d,E as Q,L as tt,T as k,G as ie,H as re,I as $e,F as D,J as Me,K as ne,M as Pe,N as at,O as ot,P as it,Q as rt,R as nt,U as ct,V as st}from"./main-dark-cougars-deny.js";import{p as ge,i as ae}from"./platforms-D2zu1ywB.js";import{u as lt}from"./useDebounce-CcMKCI7_.js";import{u as Ne,C as ut,a as ht,i as dt}from"./groupHelper-DA5Xjq2Y.js";import{u as mt}from"./useDeleteAccount-DrYv9ReY.js";import{P as oe}from"./PlatformIcon-BT0ubZly.js";import{B as gt}from"./index-4WBy2_dK.js";import{A as ft}from"./index-Bt9HWWmk.js";import{C as bt}from"./index-lmO9dkKN.js";import{F as pt}from"./index-k0aiACIX.js";import{P as fe,F as te}from"./index-CPtrnYXw.js";import{S as vt}from"./index-vY9zryzE.js";import{R as ce,C as K}from"./row-lqfnAFmz.js";import{M as Ct}from"./index-XEZ_xjnA.js";import{A as yt}from"./index-SKRzeqqf.js";import{I as Ie}from"./index-DWSuPlFC.js";import{s as St}from"./index-Bs04ZD0k.js";import"./index-DBPaF3NB.js";import"./EllipsisOutlined-BGoHQ3ZR.js";import"./move-BztwN_76.js";import"./Input-DHLpvPkV.js";import"./index-DLKty1T3.js";import"./Dropdown-DlXLC9YR.js";import"./collapse-BbEVqHco.js";import"./mediaQueryUtil-BSyvLspT.js";import"./LeftOutlined-BlD6DJ6Y.js";import"./EyeOutlined-DWbwFpl8.js";import"./context-BFZyzWOC.js";var be=function(t,o){if(!t)return null;var a={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return o?{left:0,right:0,width:0,top:a.top,bottom:a.bottom,height:a.height}:{left:a.left,right:a.right,width:a.width,top:0,bottom:0,height:0}},N=function(t){return t!==void 0?"".concat(t,"px"):void 0};function wt(e){var t=e.prefixCls,o=e.containerRef,a=e.value,n=e.getValueIndex,r=e.motionName,m=e.onMotionStart,c=e.onMotionEnd,b=e.direction,y=e.vertical,h=y===void 0?!1:y,p=s.useRef(null),u=s.useState(a),w=z(u,2),A=w[0],j=w[1],$=function(B){var I,H=n(B),O=(I=o.current)===null||I===void 0?void 0:I.querySelectorAll(".".concat(t,"-item"))[H];return(O==null?void 0:O.offsetParent)&&O},R=s.useState(null),g=z(R,2),l=g[0],L=g[1],q=s.useState(null),x=z(q,2),f=x[0],V=x[1];De(function(){if(A!==a){var v=$(A),B=$(a),I=be(v,h),H=be(B,h);j(a),L(I),V(H),v&&B?m():c()}},[a]);var M=s.useMemo(function(){if(h){var v;return N((v=l==null?void 0:l.top)!==null&&v!==void 0?v:0)}return N(b==="rtl"?-(l==null?void 0:l.right):l==null?void 0:l.left)},[h,b,l]),P=s.useMemo(function(){if(h){var v;return N((v=f==null?void 0:f.top)!==null&&v!==void 0?v:0)}return N(b==="rtl"?-(f==null?void 0:f.right):f==null?void 0:f.left)},[h,b,f]),U=function(){return h?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},_=function(){return h?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},W=function(){L(null),V(null),c()};return!l||!f?null:s.createElement(Fe,{visible:!0,motionName:r,motionAppear:!0,onAppearStart:U,onAppearActive:_,onVisibleChanged:W},function(v,B){var I=v.className,H=v.style,O=Y(Y({},H),{},{"--thumb-start-left":M,"--thumb-start-width":N(l==null?void 0:l.width),"--thumb-active-left":P,"--thumb-active-width":N(f==null?void 0:f.width),"--thumb-start-top":M,"--thumb-start-height":N(l==null?void 0:l.height),"--thumb-active-top":P,"--thumb-active-height":N(f==null?void 0:f.height)}),Z={ref:Se(p,B),style:O,className:X("".concat(t,"-thumb"),I)};return s.createElement("div",Z)})}var At=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function Tt(e){if(typeof e.title<"u")return e.title;if(we(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function xt(e){return e.map(function(t){if(we(t)==="object"&&t!==null){var o=Tt(t);return Y(Y({},t),{},{title:o})}return{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t}})}var jt=function(t){var o=t.prefixCls,a=t.className,n=t.disabled,r=t.checked,m=t.label,c=t.title,b=t.value,y=t.name,h=t.onChange,p=t.onFocus,u=t.onBlur,w=t.onKeyDown,A=t.onKeyUp,j=t.onMouseDown,$=function(g){n||h(g,b)};return s.createElement("label",{className:X(a,G({},"".concat(o,"-item-disabled"),n)),onMouseDown:j},s.createElement("input",{name:y,className:"".concat(o,"-item-input"),type:"radio",disabled:n,checked:r,onChange:$,onFocus:p,onBlur:u,onKeyDown:w,onKeyUp:A}),s.createElement("div",{className:"".concat(o,"-item-label"),title:c,"aria-selected":r},m))},$t=s.forwardRef(function(e,t){var o,a,n=e.prefixCls,r=n===void 0?"rc-segmented":n,m=e.direction,c=e.vertical,b=e.options,y=b===void 0?[]:b,h=e.disabled,p=e.defaultValue,u=e.value,w=e.name,A=e.onChange,j=e.className,$=j===void 0?"":j,R=e.motionName,g=R===void 0?"thumb-motion":R,l=Ge(e,At),L=s.useRef(null),q=s.useMemo(function(){return Se(L,t)},[L,t]),x=s.useMemo(function(){return xt(y)},[y]),f=Ke((o=x[0])===null||o===void 0?void 0:o.value,{value:u,defaultValue:p}),V=z(f,2),M=V[0],P=V[1],U=s.useState(!1),_=z(U,2),W=_[0],v=_[1],B=function(T,F){P(F),A==null||A(F)},I=qe(l,["children"]),H=s.useState(!1),O=z(H,2),Z=O[0],se=O[1],Oe=s.useState(!1),le=z(Oe,2),Re=le[0],ue=le[1],Le=function(){ue(!0)},Be=function(){ue(!1)},Ee=function(){se(!1)},Ve=function(T){T.key==="Tab"&&se(!0)},he=function(T){var F=x.findIndex(function(ze){return ze.value===M}),de=x.length,He=(F+T+de)%de,ee=x[He];ee&&(P(ee.value),A==null||A(ee.value))},_e=function(T){switch(T.key){case"ArrowLeft":case"ArrowUp":he(-1);break;case"ArrowRight":case"ArrowDown":he(1);break}};return s.createElement("div",me({role:"radiogroup","aria-label":"segmented control",tabIndex:h?void 0:0},I,{className:X(r,(a={},G(a,"".concat(r,"-rtl"),m==="rtl"),G(a,"".concat(r,"-disabled"),h),G(a,"".concat(r,"-vertical"),c),a),$),ref:q}),s.createElement("div",{className:"".concat(r,"-group")},s.createElement(wt,{vertical:c,prefixCls:r,value:M,containerRef:L,motionName:"".concat(r,"-").concat(g),direction:m,getValueIndex:function(T){return x.findIndex(function(F){return F.value===T})},onMotionStart:function(){v(!0)},onMotionEnd:function(){v(!1)}}),x.map(function(S){var T;return s.createElement(jt,me({},S,{name:w,key:S.value,prefixCls:r,className:X(S.className,"".concat(r,"-item"),(T={},G(T,"".concat(r,"-item-selected"),S.value===M&&!W),G(T,"".concat(r,"-item-focused"),Re&&Z&&S.value===M),T)),checked:S.value===M,onChange:B,onFocus:Le,onBlur:Be,onKeyDown:_e,onKeyUp:Ve,onMouseDown:Ee,disabled:!!h||!!S.disabled}))})))}),Mt=$t;function pe(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function ve(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const Pt=Object.assign({overflow:"hidden"},Ye),Nt=e=>{const{componentCls:t}=e,o=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),a=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),n=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Xe(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`}),ke(e)),{[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${E(e.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},ve(e)),{color:e.itemSelectedColor}),"&-focused":Qe(e),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:o,lineHeight:E(o),padding:`0 ${E(e.segmentedPaddingHorizontal)}`},Pt),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},ve(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${E(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, height ${e.motionDurationSlow} ${e.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:a,lineHeight:E(a),padding:`0 ${E(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:n,lineHeight:E(n),padding:`0 ${E(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),pe(`&-disabled ${t}-item`,e)),pe(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"},[`&${t}-shape-round`]:{borderRadius:9999,[`${t}-item, ${t}-thumb`]:{borderRadius:9999}}})}},It=e=>{const{colorTextLabel:t,colorText:o,colorFillSecondary:a,colorBgElevated:n,colorFill:r,lineWidthBold:m,colorBgLayout:c}=e;return{trackPadding:m,trackBg:c,itemColor:t,itemHoverColor:o,itemHoverBg:a,itemSelectedBg:n,itemActiveBg:r,itemSelectedColor:o}},Ot=Ue("Segmented",e=>{const{lineWidth:t,calc:o}=e,a=We(e,{segmentedPaddingHorizontal:o(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:o(e.controlPaddingHorizontalSM).sub(t).equal()});return Nt(a)},It);var Ce=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(o[a[n]]=e[a[n]]);return o};function Rt(e){return typeof e=="object"&&!!(e!=null&&e.icon)}const Lt=s.forwardRef((e,t)=>{const o=Je(),{prefixCls:a,className:n,rootClassName:r,block:m,options:c=[],size:b="middle",style:y,vertical:h,shape:p="default",name:u=o}=e,w=Ce(e,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:A,direction:j,className:$,style:R}=Ze("segmented"),g=A("segmented",a),[l,L,q]=Ot(g),x=et(b),f=s.useMemo(()=>c.map(P=>{if(Rt(P)){const{icon:U,label:_}=P,W=Ce(P,["icon","label"]);return Object.assign(Object.assign({},W),{label:s.createElement(s.Fragment,null,s.createElement("span",{className:`${g}-item-icon`},U),_&&s.createElement("span",null,_))})}return P}),[c,g]),V=X(n,r,$,{[`${g}-block`]:m,[`${g}-sm`]:x==="small",[`${g}-lg`]:x==="large",[`${g}-vertical`]:h,[`${g}-shape-${p}`]:p==="round"},L,q),M=Object.assign(Object.assign({},R),y);return l(s.createElement(Mt,Object.assign({},w,{name:u,className:V,style:M,options:f,ref:t,prefixCls:g,direction:j,vertical:h})))}),Bt=Lt;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Et(){const e=Ae(),{isPending:t,mutateAsync:o}=Te({mutationFn:async a=>xe(`account/${a.id}/update-status`,{status:a.status},void 0,"POST"),onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}});return{updateAccountStatus:a=>o(a),updateAccountStatusLoading:t}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Vt({avatarLink:e,platform:t,size:o=18}){const{token:a}=J.useToken();return i(gt,{count:i(oe,{name:t,size:o,style:{border:"2px solid",borderColor:a.colorBorder}}),offset:[-2,28],size:"small",children:i(ft,{src:e})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function _t({accountType:e,id:t,image:o,name:a,platform:n,status:r}){const{deleteAccount:m,deleteAccountLoading:c}=mt(),{updateAccountStatus:b,updateAccountStatusLoading:y}=Et(),{token:h}=J.useToken(),p=1,u=0;return C(bt,{size:"small",style:{borderColor:h.colorBorder},children:[C(pt,{className:"w-100",justify:"space-between",children:[i(Vt,{avatarLink:o,platform:n}),C(je,{children:[i(fe,{description:r?d("It will no longer be able to automatic posting, scheduling, and sharing"):d("Enable Automatic Posting, Scheduling, and Sharing"),okButtonProps:{danger:!!r,loading:y},okText:r?d("Disable"):d("Enable"),onConfirm:()=>b({id:t,status:r===p?u:p}),placement:"top",title:`Do you want to ${r===p?d("disable"):d("enable")} the account?`,children:i(vt,{checked:!!r,size:"small"})}),i(fe,{description:d("This account also be deleted from related schedule!"),okButtonProps:{danger:!0,loading:c},okText:d("Yes, delete"),onConfirm:()=>m(t),placement:"top",title:d("Are you sure?"),children:i(Q,{danger:!0,icon:i(tt,{}),type:"text"})})]})]}),i(k.Paragraph,{ellipsis:!0,style:{marginBottom:"0px",marginTop:"8px"},children:a}),e&&i(k.Text,{ellipsis:!0,type:"secondary",children:e})]})}const Ht="_accountLoaderSection_1360f_1 grid",zt="_accountLoader_1360f_1",ye={accountLoaderSection:Ht,accountLoader:zt};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Dt({accountQuantity:e}){const t=Array.from({length:e}).fill(0);return i("div",{className:ye.accountLoaderSection,children:t.map((o,a)=>i("div",{className:`${ye.accountLoader} loader`},`loader-${a*2}`))})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Ft({searchAccountsTxt:e}){const[t]=ie({}),o=t.get("value")||"",n={type:t.get("type")||"",value:o},{accounts:r,isLoadingAccounts:m}=Ne({searchAccountsTxt:e,selectedMenuTab:n});return m?i(Dt,{accountQuantity:4}):C(ce,{gutter:[16,16],children:[i(K,{md:8,sm:12,xl:6,xs:24,children:i(ut,{btnType:"custom"})}),r.map(c=>i(K,{md:8,sm:12,xl:6,xs:24,children:i(_t,{accountType:c.details.account_type,id:c.id,image:c.details.icon,name:c.details.account_name,platform:c.platform,status:c.status},c.id)},c.id))]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Gt(e){return Object.keys(e)}function Kt({setSearchAccounts:e}){const{isDarkTheme:t,isProClient:o}=re(ne),{token:a}=J.useToken(),[n,r]=ie({}),m=$e(Pe),c=n.get("value")||"all",b=[{key:"all",label:C(D,{children:[i(oe,{size:30}),i(k.Text,{className:"pl-2",children:d("All")})]})}],y=Gt(ge).map(u=>({key:u,label:C(D,{children:[i(oe,{name:u,size:30})," ",i(k.Text,{className:"px-2",children:ge[u].name}),ae(u)&&!o?i(Me,{color:"#ff8609",size:18}):void 0]})})),h=[...b,...y];return i(D,{children:i(Ct,{className:"rounded-md",items:h,mode:"inline",onClick:({key:u})=>{if(ae(u)&&!o){m(!0);return}r(w=>(w.set("type","platform"),w.set("value",u),w)),e("")},selectedKeys:[c],style:{backgroundColor:a.colorBgContainer,border:"none",paddingInline:"6px"},theme:t?"dark":"light"})})}const qt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.7.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20199%20155'%20style='enable-background:new%200%200%20199%20155;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23565B84;}%20%3c/style%3e%3cpath%20class='st0'%20d='M33.2,30.4C45.9,43.4,48.8,64,64.8,74c7.9,5,18.2,2.6,26.9,4c9.6,1.5,16.9,6.9,24.1,13.1%20c14.4,12.5,21.3,31.6,35.8,44c10.2,8.7,22.2,0.5,31.4-5.4c1.9-1.2,6.7-3.3,7.1,0.7c0.4,3.5-6.5,6.5-8.9,8c-11,7.1-22.9,9.4-33.7,0.7%20c-17.4-14.1-24.7-38-43.9-50.3C88.8,79.4,70.2,87.2,56.3,75C43.5,63.8,41,44.2,27.9,33.8c-1.9,2.6-6.1,10-9.5,10.2%20c-3.5,0.2-4.7-5.1-5.2-7.6c-1.4-5.9-4.8-22.2,1.3-26.7c5.5-4.1,20.5,2,25.7,4.9c2.3,1.3,6.3,3.4,6,6.6%20C45.7,25.9,36.8,28.4,33.2,30.4z'/%3e%3c/svg%3e";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Ut(){return C(D,{children:[i("img",{alt:"Arrow",src:qt,style:{marginLeft:"24%"},width:150}),i(yt,{description:C(D,{children:[i("div",{className:"mb-3",dangerouslySetInnerHTML:{__html:d('To connect your social media accounts, click <b>"Connect Account"</b>  There are two methods available:')}}),C("div",{className:"mb-3",children:[C("b",{children:[d("Connect"),":"]}),d("It will automatically connect your social account without any credentials")]}),C("div",{className:"mb-3",children:[C("b",{children:[d("Custom App"),":"]}),d("It will show you a form to input app credentials to create your own app and connect your social account.")]}),C("a",{href:"https://bit-social.com/docs/accounts/",rel:"nofollow noopener noreferrer",target:"_blank",children:[d("You can find more about it here"),i(at,{style:{transform:"translateY(-2px)"}})]})]}),style:{border:"4px solid #565b84",fontSize:"1.3rem",marginLeft:"10%",marginTop:-25,width:800}})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Wt({accounts:e,isLoadingAccounts:t,searchAccounts:o,searchAccountsTxt:a,setSearchAccounts:n}){return C(ce,{gutter:20,children:[i(K,{span:6,children:i(Kt,{setSearchAccounts:n})}),C(K,{span:18,children:[t&&i(ot,{active:!0}),i(Ft,{searchAccountsTxt:a}),!t&&!o&&!(e!=null&&e.length)?i(Ut,{}):void 0]})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Xt(){const e=Ae(),{isPending:t,isSuccess:o,mutateAsync:a}=Te({mutationFn:async n=>xe("pro_groups",{name:n},void 0,"POST"),mutationKey:["create_group"],onSuccess:()=>{e.invalidateQueries({queryKey:["groups"]})}});return{createGroup:a,isGroupCreated:o,isLoadingCreateGroup:t}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function kt(){const{token:e}=J.useToken(),{isDarkTheme:t}=re(ne),[o]=te.useForm(),{groups:a}=ht(),{createGroup:n,isLoadingCreateGroup:r}=Xt(),[m,c]=s.useState(!1),b=()=>{o.resetFields(),c(!1)},y=async()=>{o.submit()},h=async({name:p})=>{const u=await n(p);(u==null?void 0:u.code)==="SUCCESS"&&(o.resetFields(),St.success({message:"Group create successfully!"}),c(!1))};return C(D,{children:[i(Q,{className:"mb-2",icon:i(it,{size:22}),onClick:()=>c(!0),style:{border:`2px solid ${e.colorPrimary}`,color:t?e.colorTextBase:e.colorPrimary,fontWeight:500},type:"text",children:d("Create Group")}),i(rt,{footer:[i(Q,{onClick:b,children:d("Cancel")},"back"),i(Q,{loading:r,onClick:y,type:"primary",children:d("Create")},"submit")],onCancel:b,open:m,children:i(te,{form:o,layout:"vertical",onFinish:h,children:i(te.Item,{label:d("Name"),name:"name",rules:[{message:"Please enter group name",required:!0},{validator:(p,u)=>{if(u.length)return dt(u.trim(),a)?Promise.reject(new Error(u+" name already exist")):Promise.resolve()}}],children:i(Ie,{name:"name",placeholder:d("New group"),required:!0})})})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const{Text:xa}=k;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function Qt(){return nt()}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};function ja(){const{isProClient:e}=re(ne),t=$e(Pe),[o,a]=ie({}),n=ct(),r=o.get("value")||"",m=o.get("type")||"",[c,b]=s.useState(m||"platform"),y=["platform","group"];(r!==""&&ae(r)&&!e||r.length&&!y.includes(m)||!e&&m==="group")&&n("/accounts");const h={type:m,value:r},[p,u]=s.useState(""),w=lt(p,400),{accounts:A,isLoadingAccounts:j}=Ne({searchAccountsTxt:w,selectedMenuTab:h}),$=g=>{u(g.target.value),a(l=>(l.delete("type"),l.delete("value"),l))};return C("div",{children:[C(ce,{gutter:20,children:[i(K,{span:6,children:i(Bt,{block:!0,onChange:g=>{if(!e&&g==="group"){t(!0);return}b(g),a(l=>(l.set("type",g),l.set("value","all"),l))},options:[{label:d("Accounts"),value:"platform"},{label:e?"Groups":C(D,{children:[d("Groups")," ",i(Me,{color:"#ff8609",size:18})]}),value:"group"}],value:c})}),i(K,{children:c==="platform"?i(je,{style:{marginBottom:10},children:i(Ie,{allowClear:!0,onChange:$,placeholder:d("Search accounts"),prefix:i(st,{}),value:p})}):i(kt,{})})]}),c==="platform"?i(Wt,{accounts:A,isLoadingAccounts:j,searchAccounts:p,searchAccountsTxt:w,setSearchAccounts:u}):i(Qt,{})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};export{ja as default};
